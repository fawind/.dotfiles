########################################
# General Settings
########################################

# Fix urxvt colors
set -g default-terminal screen-256color

set -g mouse on
set -g history-limit 20000
set -g renumber-windows on
setw -g aggressive-resize on

# make window/pane index start with 1
set -g base-index 1
setw -g pane-base-index 1


########################################
# Keybindings
########################################

# Set new prefix
unbind C-b
set -g prefix C-q
bind C-q send-prefix

setw -g mode-keys vi
bind F12 source-file ~/.tmux.conf

# Remap window navigation to vim
unbind-key j
bind-key j select-pane -D
unbind-key k
bind-key k select-pane -U
unbind-key h
bind-key h select-pane -L
unbind-key l
bind-key l select-pane -R

# Splits
unbind-key t
bind t split-window -h
bind v split-window -v

# Send pane to window
bind @ command-prompt -p "send pane to:"  "join-pane -t ':%%'"

# Mouse scroll
bind -T root WheelUpPane if-shell -F -t = "#{alternate_on}" "select-pane -t =; send-keys -M" "select-pane -t =; copy-mode -e; send-keys -M"
bind -T root WheelDownPane if-shell -F -t = "#{alternate_on}" "select-pane -t =; send-keys -M" "select-pane -t =; send-keys -M"
bind-key -t vi-copy WheelUpPane halfpage-up
bind-key -t vi-copy WheelDownPane halfpage-down

# Copy mode
setw -g mode-keys vi
unbind [
unbind p
bind Escape copy-mode
bind p paste-buffer
bind -t vi-copy 'v' begin-selection
bind -t vi-copy 'y' copy-selection


########################################
# Status Bar
########################################

set -g status-utf8 on

setw -g window-status-format "#[fg=colour8,bg=black]#[fg=default,bg=black] #I:#W #[fg=black,bg=colour8]"
setw -g window-status-current-format "#[fg=colour8,bg=blue] #I:#W #[fg=blue,bg=colour8]"
set -g status-left "#[fg=black,bg=yellow] #S #[fg=yellow,bg=colour8]"
set -g status-right ""
set -g window-status-separator ""


########################################
# Colors
########################################

# default statusbar colors
set-option -g status-bg default #base02
set-option -g status-fg default
set-option -g status-attr default

# default window title colors
set-window-option -g window-status-fg brightblue #base0
set-window-option -g window-status-bg default
#set-window-option -g window-status-attr dim

# active window title colors
set-window-option -g window-status-current-fg brightred #orange
set-window-option -g window-status-current-bg default
#set-window-option -g window-status-current-attr bright

# pane border
set-option -g pane-border-fg black #base02
set-option -g pane-active-border-fg brightgreen #base01

# message text
set-option -g message-bg black #base02
set-option -g message-fg brightred #orange

# pane number display
set-option -g display-panes-active-colour blue #blue
set-option -g display-panes-colour brightred #orange

# bell
set-window-option -g window-status-bell-style fg=black,bg=red #base02, red
